<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 Perfect Delivery Gauteng Open - Men Pairs</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .search-section {
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .search-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .search-input, .filter-select {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-input:focus, .filter-select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.2);
        }

        .clear-btn {
            padding: 12px 20px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s ease;
        }

        .clear-btn:hover {
            background: #c0392b;
        }

        .results-section {
            padding: 30px;
        }

        .match-card {
            background: white;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            border-left: 6px solid #3498db;
        }

        .match-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            align-items: center;
        }

        .match-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .match-info i {
            font-size: 1.2em;
            margin-right: 5px;
        }

        .match-details {
            padding: 25px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .team-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .team-card:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .team-number {
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .team-players {
            font-size: 1.1em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .team-club {
            color: #7f8c8d;
            font-size: 0.95em;
        }

        .vs-separator {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #e74c3c;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #7f8c8d;
            font-size: 1.2em;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #3498db;
            font-size: 1.1em;
        }

        .day-header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 15px 25px;
            margin: 25px 0 15px 0;
            border-radius: 8px;
            font-size: 1.3em;
            font-weight: bold;
            text-align: center;
        }

        .tournament-summary {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            margin: 20px 30px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .summary-header {
            padding: 20px 25px;
            background: rgba(0,0,0,0.1);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .summary-header:hover {
            background: rgba(0,0,0,0.2);
        }

        .summary-title {
            font-size: 1.3em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .summary-toggle {
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }

        .summary-toggle.expanded {
            transform: rotate(180deg);
        }

        .summary-content {
            padding: 0 25px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .summary-content.expanded {
            padding: 25px;
            max-height: 1000px;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .summary-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .detail-section {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .detail-title {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-list {
            list-style: none;
            padding: 0;
        }

        .detail-list li {
            padding: 5px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .detail-list li:last-child {
            border-bottom: none;
        }

        /* Large screens - optimize for multiple columns */
        @media (min-width: 1200px) {
            .container {
                max-width: 1600px;
            }
            
            .search-grid {
                grid-template-columns: repeat(5, 1fr);
            }
            
            .match-header {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* Tablet landscape */
        @media (max-width: 1024px) {
            .search-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .match-header {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
        }

        /* Tablet portrait and small laptops */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .header p {
                font-size: 1em;
            }
            
            .search-grid {
                grid-template-columns: 1fr 1fr;
                gap: 15px;
            }
            
            .match-header {
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                text-align: left;
            }
            
            .match-details {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .vs-separator {
                font-size: 1.2em;
                padding: 10px 0;
            }
        }

        /* Mobile phones */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 1.6em;
                line-height: 1.2;
            }
            
            .header p {
                font-size: 0.9em;
            }
            
            .search-section {
                padding: 20px 15px;
            }
            
            .search-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .search-input, .filter-select, .clear-btn {
                padding: 14px 12px;
                font-size: 16px; /* Prevents zoom on iOS */
            }
            
            .tournament-summary {
                margin: 15px;
            }
            
            .summary-header {
                padding: 15px;
            }
            
            .summary-title {
                font-size: 1.1em;
            }
            
            .summary-content.expanded {
                padding: 20px 15px;
                max-height: 1200px;
            }
            
            .summary-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .stat-card {
                padding: 15px;
            }
            
            .stat-number {
                font-size: 1.8em;
            }
            
            .summary-details {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .detail-section {
                padding: 15px;
            }
            
            .results-section {
                padding: 20px 15px;
            }
            
            .match-card {
                margin-bottom: 20px;
                border-radius: 8px;
            }
            
            .match-header {
                padding: 15px;
                grid-template-columns: 1fr;
                gap: 12px;
                text-align: center;
            }
            
            .match-info {
                justify-content: center;
                font-size: 0.95em;
            }
            
            .match-details {
                padding: 20px 15px;
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .team-card {
                padding: 15px;
                text-align: center;
            }
            
            .team-number {
                margin: 0 auto 12px auto;
            }
            
            .team-players {
                font-size: 1em;
                line-height: 1.3;
                margin-bottom: 6px;
            }
            
            .team-club {
                font-size: 0.85em;
            }
            
            .vs-separator {
                font-size: 1.1em;
                padding: 8px 0;
            }
            
            .day-header {
                padding: 12px 15px;
                font-size: 1.1em;
                margin: 20px 0 12px 0;
            }
            
            .no-results {
                padding: 40px 15px;
                font-size: 1.1em;
            }
        }

        /* Very small phones */
        @media (max-width: 360px) {
            .header h1 {
                font-size: 1.4em;
            }
            
            .match-header {
                padding: 12px;
            }
            
            .match-details {
                padding: 15px 12px;
            }
            
            .team-card {
                padding: 12px;
            }
            
            .team-players {
                font-size: 0.95em;
            }
        }

        /* Touch-friendly improvements */
        @media (hover: none) and (pointer: coarse) {
            .search-input, .filter-select, .clear-btn {
                min-height: 44px; /* Apple's recommended touch target size */
            }
            
            .team-card:hover {
                transform: none; /* Remove hover effects on touch devices */
            }
        }
    </style>

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèÜ 2025 Perfect Delivery Gauteng Open</h1>
            <p>Men Pairs Tournament - Bronkhorstspruit</p>
        </div>

        <div class="search-section">
            <div class="search-grid">
                <input type="text" id="playerSearch" class="search-input" placeholder="Search by player names...">
                <select id="sectionFilter" class="filter-select">
                    <option value="">All Sections</option>
                </select>
                <select id="dayFilter" class="filter-select">
                    <option value="">All Days</option>
                    <option value="2025-07-05">Day 1 - July 5th</option>
                    <option value="2025-07-06">Day 2 - July 6th</option>
                </select>
                <select id="timeFilter" class="filter-select">
                    <option value="">All Times</option>
                </select>
                <button id="clearFilters" class="clear-btn">
                    ‚ùå Clear All
                </button>
            </div>
        </div>

        <div class="results-section">
            <div class="tournament-summary" id="tournamentSummary">
                <div class="summary-header" onclick="toggleSummary()">
                    <div class="summary-title">
                        üìä Tournament Overview
                    </div>
                    <div class="summary-toggle" id="summaryToggle">‚ñº</div>
                </div>
                <div class="summary-content" id="summaryContent">
                    <div class="summary-stats">
                        <div class="stat-card">
                            <div class="stat-number">48</div>
                            <div class="stat-label">Total Players</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">24</div>
                            <div class="stat-label">Teams (Pairs)</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">4</div>
                            <div class="stat-label">Sections</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">60</div>
                            <div class="stat-label">Total Matches</div>
                        </div>
                    </div>
                    <div class="summary-details">
                        <div class="detail-section">
                            <div class="detail-title">üìÖ July 5th, 2025 (Day 1)</div>
                            <ul class="detail-list">
                                <li><strong>48 players</strong> (all teams participate)</li>
                                <li><strong>36 matches</strong> (Rounds 1, 2, 3)</li>
                                <li><strong>Time slots:</strong> 09:00, 11:30, 14:30</li>
                                <li><strong>Format:</strong> Round-robin continues</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">üìÖ July 6th, 2025 (Day 2)</div>
                            <ul class="detail-list">
                                <li><strong>48 players</strong> (same teams return)</li>
                                <li><strong>24 matches</strong> (Rounds 4, 5)</li>
                                <li><strong>Time slots:</strong> 09:00, 11:30</li>
                                <li><strong>Format:</strong> Completes round-robin</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">üèÜ Tournament Structure</div>
                            <ul class="detail-list">
                                <li><strong>6 teams per section</strong> (12 players each)</li>
                                <li><strong>5 rounds total</strong> per team</li>
                                <li><strong>Round-robin format</strong> over 2 days</li>
                                <li><strong>Same players both days</strong></li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">üìç Sections & Rinks</div>
                            <ul class="detail-list">
                                <li><strong>Sections 12 & 14:</strong> Rinks A1-A6</li>
                                <li><strong>Sections 21 & 25:</strong> Rinks B1-B6</li>
                                <li><strong>All venues:</strong> Bronkhorstspruit</li>
                                <li><strong>Rink rotation:</strong> Teams use different rinks each round</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div id="results"></div>
        </div>
    </div>

    <script>
        // Tournament data
        const tournamentData = {
            sections: {
                12: {
                    teams: [
                        { number: 1, players: "Stone, Izak / Brink, S", club: "Pta Municipals, BGN" },
                        { number: 2, players: "Lindeque, Gerrie / De Lange, Bernardus", club: "Wingate Park, BGN" },
                        { number: 3, players: "Nel, R / Do Couto, J", club: "Bedfordview, JBA" },
                        { number: 4, players: "Prinsloo, Vaino / Olmesdahl, Fritz", club: "Ermelo Bowling Club, MBA" },
                        { number: 5, players: "Maritz, Louis / De Ponte, Paul", club: "Parys, NWB" },
                        { number: 6, players: "Joubert, Gideon / De Jager, Loukie", club: "Rustenburg, SBA" }
                    ],
                    matches: [
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 1, team2: 2, rink: "A6" },
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 3, team2: 4, rink: "A2" },
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 5, team2: 6, rink: "A4" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 1, team2: 3, rink: "A5" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 2, team2: 6, rink: "A3" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 4, team2: 5, rink: "A6" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 1, team2: 4, rink: "A4" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 2, team2: 5, rink: "A2" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 3, team2: 6, rink: "A1" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 1, team2: 5, rink: "A1" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 2, team2: 3, rink: "A4" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 4, team2: 6, rink: "A5" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 1, team2: 6, rink: "A2" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 2, team2: 4, rink: "A1" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 3, team2: 5, rink: "A3" }
                    ]
                },
                14: {
                    teams: [
                        { number: 1, players: "Wessels, Eugene / Engelbrecht, Dolla", club: "Pta Municipals, BGN" },
                        { number: 2, players: "Lombard, Kevin / Payze, Steven", club: "PHSOB, BGN" },
                        { number: 3, players: "Hwala, N / v Wyk, B", club: "Linden, JBA" },
                        { number: 4, players: "Maddocks, D / Denyer, K", club: "Bryanston Sports, JBA" },
                        { number: 5, players: "Tearnan, M / Walsh, Terry", club: "Benoni CC, EKB" },
                        { number: 6, players: "Nicol, Craig / Firman, Andrew", club: "Leases, SBA" }
                    ],
                    matches: [
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 1, team2: 2, rink: "A1" },
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 3, team2: 4, rink: "A5" },
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 5, team2: 6, rink: "A3" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 1, team2: 3, rink: "A2" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 2, team2: 6, rink: "A4" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 4, team2: 5, rink: "A1" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 1, team2: 4, rink: "A3" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 2, team2: 5, rink: "A5" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 3, team2: 6, rink: "A6" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 1, team2: 5, rink: "A6" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 2, team2: 3, rink: "A3" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 4, team2: 6, rink: "A2" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 1, team2: 6, rink: "A5" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 2, team2: 4, rink: "A6" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 3, team2: 5, rink: "A4" }
                    ]
                },
                21: {
                    teams: [
                        { number: 1, players: "v Niekerk, Louis / Pieters, Danie / Kleyn, Lou", club: "Brits, BGN" },
                        { number: 2, players: "v Heerden, Willem / Martignone, Alwyn", club: "Pta Municipals, BGN" },
                        { number: 3, players: "Vitali, P / Binneman, FJ", club: "Belgravia, JBA" },
                        { number: 4, players: "Mazaris, Tony / Mckenzie, Ian", club: "Bryanston CC, JBA" },
                        { number: 5, players: "Fourie, SC / Matthews, L", club: "Benoni, EKB" },
                        { number: 6, players: "Pretorius, Hannes / Botha, Gideon", club: "Wonderboom, BGN" }
                    ],
                    matches: [
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 1, team2: 2, rink: "B1" },
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 3, team2: 4, rink: "B5" },
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 5, team2: 6, rink: "B3" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 1, team2: 3, rink: "B2" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 2, team2: 6, rink: "B4" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 4, team2: 5, rink: "B1" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 1, team2: 4, rink: "B3" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 2, team2: 5, rink: "B5" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 3, team2: 6, rink: "B6" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 1, team2: 5, rink: "B6" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 2, team2: 3, rink: "B3" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 4, team2: 6, rink: "B2" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 1, team2: 6, rink: "B5" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 2, team2: 4, rink: "B6" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 3, team2: 5, rink: "B4" }
                    ]
                },
                25: {
                    teams: [
                        { number: 1, players: "Rakic, A / Georgiev, K", club: "Ferndale, JBA" },
                        { number: 2, players: "Buxton, Ian / Mc Lean, K", club: "Morningside CC, JBA" },
                        { number: 3, players: "Gerber, Arnold / De Jager, Chris", club: "PHSOB, BGN" },
                        { number: 4, players: "v Rooyen, Deon / Coetzee, Cobus", club: "Harlequins, BGN" },
                        { number: 5, players: "Hatton-Jones, Dean / Grobbelaar, Corrie", club: "Noordheuwel CC, SBA" },
                        { number: 6, players: "Brooklyn, RE / Marshall, AJ", club: "Benoni CC, EKB" }
                    ],
                    matches: [
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 1, team2: 2, rink: "B6" },
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 3, team2: 4, rink: "B2" },
                        { round: 1, date: "2025-07-05", time: "09:00", team1: 5, team2: 6, rink: "B4" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 1, team2: 3, rink: "B5" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 2, team2: 6, rink: "B3" },
                        { round: 2, date: "2025-07-05", time: "11:30", team1: 4, team2: 5, rink: "B6" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 1, team2: 4, rink: "B4" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 2, team2: 5, rink: "B2" },
                        { round: 3, date: "2025-07-05", time: "14:30", team1: 3, team2: 6, rink: "B1" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 1, team2: 5, rink: "B1" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 2, team2: 3, rink: "B4" },
                        { round: 4, date: "2025-07-06", time: "09:00", team1: 4, team2: 6, rink: "B5" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 1, team2: 6, rink: "B2" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 2, team2: 4, rink: "B1" },
                        { round: 5, date: "2025-07-06", time: "11:30", team1: 3, team2: 5, rink: "B3" }
                    ]
                }
            }
        };

        let filteredResults = [];

        // Initialize the app
        function init() {
            populateFilters();
            displayAllMatches();
            setupEventListeners();
        }

        // Populate filter dropdowns
        function populateFilters() {
            const sectionFilter = document.getElementById('sectionFilter');
            const timeFilter = document.getElementById('timeFilter');
            
            // Populate sections
            Object.keys(tournamentData.sections).forEach(section => {
                const option = document.createElement('option');
                option.value = section;
                option.textContent = `Section ${section}`;
                sectionFilter.appendChild(option);
            });

            // Populate times
            const times = new Set();
            Object.values(tournamentData.sections).forEach(section => {
                section.matches.forEach(match => {
                    times.add(match.time);
                });
            });

            Array.from(times).sort().forEach(time => {
                const option = document.createElement('option');
                option.value = time;
                option.textContent = formatTime(time);
                timeFilter.appendChild(option);
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('playerSearch').addEventListener('input', filterResults);
            document.getElementById('sectionFilter').addEventListener('change', filterResults);
            document.getElementById('dayFilter').addEventListener('change', filterResults);
            document.getElementById('timeFilter').addEventListener('change', filterResults);
            document.getElementById('clearFilters').addEventListener('click', clearAllFilters);
        }

        // Clear all filters
        function clearAllFilters() {
            document.getElementById('playerSearch').value = '';
            document.getElementById('sectionFilter').value = '';
            document.getElementById('dayFilter').value = '';
            document.getElementById('timeFilter').value = '';
            displayAllMatches();
        }

        // Filter results based on search criteria
        function filterResults() {
            const playerSearch = document.getElementById('playerSearch').value.toLowerCase();
            const sectionFilter = document.getElementById('sectionFilter').value;
            const dayFilter = document.getElementById('dayFilter').value;
            const timeFilter = document.getElementById('timeFilter').value;

            filteredResults = [];

            Object.entries(tournamentData.sections).forEach(([sectionNum, sectionData]) => {
                // Filter by section
                if (sectionFilter && sectionFilter !== sectionNum) return;

                sectionData.matches.forEach(match => {
                    // Filter by day
                    if (dayFilter && match.date !== dayFilter) return;
                    
                    // Filter by time
                    if (timeFilter && match.time !== timeFilter) return;

                    const team1 = sectionData.teams.find(t => t.number === match.team1);
                    const team2 = sectionData.teams.find(t => t.number === match.team2);

                    // Filter by player search
                    if (playerSearch) {
                        const searchText = `${team1.players} ${team2.players}`.toLowerCase();
                        if (!searchText.includes(playerSearch)) return;
                    }

                    filteredResults.push({
                        section: sectionNum,
                        match: match,
                        team1: team1,
                        team2: team2
                    });
                });
            });

            displayResults();
        }

        // Display all matches
        function displayAllMatches() {
            filteredResults = [];
            
            Object.entries(tournamentData.sections).forEach(([sectionNum, sectionData]) => {
                sectionData.matches.forEach(match => {
                    const team1 = sectionData.teams.find(t => t.number === match.team1);
                    const team2 = sectionData.teams.find(t => t.number === match.team2);
                    
                    filteredResults.push({
                        section: sectionNum,
                        match: match,
                        team1: team1,
                        team2: team2
                    });
                });
            });

            displayResults();
        }

        // Display filtered results
        function displayResults() {
            const resultsContainer = document.getElementById('results');
            
            if (filteredResults.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        üîç
                        <p>No matches found. Try adjusting your search criteria.</p>
                    </div>
                `;
                return;
            }

            // Group by date for better organization
            const groupedByDate = {};
            filteredResults.forEach(result => {
                const date = result.match.date;
                if (!groupedByDate[date]) {
                    groupedByDate[date] = [];
                }
                groupedByDate[date].push(result);
            });

            let html = '';
            
            Object.entries(groupedByDate).sort().forEach(([date, matches]) => {
                html += `<div class="day-header">
                    üìÖ ${formatDate(date)}
                </div>`;
                
                // Sort matches by time and section
                matches.sort((a, b) => {
                    if (a.match.time !== b.match.time) {
                        return a.match.time.localeCompare(b.match.time);
                    }
                    return parseInt(a.section) - parseInt(b.section);
                });

                matches.forEach(result => {
                    html += createMatchCard(result);
                });
            });

            resultsContainer.innerHTML = html;
        }

        // Create individual match card
        function createMatchCard(result) {
            return `
                <div class="match-card">
                    <div class="match-header">
                        <div class="match-info">
                            üìã <strong>Section ${result.section}</strong>
                        </div>
                        <div class="match-info">
                            üïò <strong>${formatTime(result.match.time)}</strong>
                        </div>
                        <div class="match-info">
                            üìç <strong>Rink ${result.match.rink}</strong>
                        </div>
                        <div class="match-info">
                            üèÅ <strong>Round ${result.match.round}</strong>
                        </div>
                    </div>
                    <div class="match-details">
                        <div class="team-card">
                            <div class="team-number">${result.team1.number}</div>
                            <div class="team-players">${result.team1.players}</div>
                            <div class="team-club">${result.team1.club}</div>
                        </div>
                        <div class="vs-separator">
                            VS
                        </div>
                        <div class="team-card">
                            <div class="team-number">${result.team2.number}</div>
                            <div class="team-players">${result.team2.players}</div>
                            <div class="team-club">${result.team2.club}</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Format time for display
        function formatTime(time) {
            return time;
        }

        // Format date for display
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            return date.toLocaleDateString('en-US', options);
        }

        // Toggle tournament summary
        function toggleSummary() {
            const content = document.getElementById('summaryContent');
            const toggle = document.getElementById('summaryToggle');
            
            content.classList.toggle('expanded');
            toggle.classList.toggle('expanded');
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>